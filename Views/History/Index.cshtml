@model PaginatedList<WebApplication1.Models.ActivityLog>


@{
    ViewData["Title"] = "Logs";
}

<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>📋 Activities and Stock History </h2>
        <a href="/Products" class="btn btn-secondary">← Return </a>
    </div>

    <table class="table table-striped table-hover shadow-sm" style="background:white; border-radius:10px; overflow:hidden;">
        <thead class="bg-dark text-white">
            <tr>
                <th>Data</th>
                <th>Product</th>
                <th> Type of Transaction </th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var log in Model)
            {
                <tr>
                    <td>@log.LogDate.ToString("dd.MM.yyyy HH:mm")</td>
                    <td>
                        @if (log.Product != null)
                        {
                            <span class="fw-bold text-primary">@log.Product.Type</span>
                        }
                        else
                        {
                            <span class="text-muted">Deleted Product</span>
                        }
                    </td>
                    <td>
                        @if (log.ActionType == "Out of Stock")
                        {
                            <span class="badge bg-danger">Out of Stock</span>
                        }
                        else if (log.ActionType == "Loading Stock")
                        {
                            <span class="badge bg-success">Loading Stock</span>
                        }
                        else
                        {
                            <span class="badge bg-info">@log.ActionType</span>
                        }
                    </td>
                    <td>@log.Description</td>
                </tr>
            }
        </tbody>
    </table>
    @{
        var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
        var nextDisabled = !Model.HasNextPage ? "disabled" : "";
    }

    <div class="d-flex justify-content-center mt-3">
        <a asp-action="Index"
           asp-route-pageNumber="@(Model.PageIndex - 1)"
           class="btn btn-outline-primary @prevDisabled me-2">
            &laquo; Önceki
        </a>

        <span class="align-self-center">Sayfa @Model.PageIndex / @Model.TotalPages</span>

        <a asp-action="Index"
           asp-route-pageNumber="@(Model.PageIndex + 1)"
           class="btn btn-outline-primary @nextDisabled ms-2">
            Sonraki &raquo;
        </a>
    </div>
</div>